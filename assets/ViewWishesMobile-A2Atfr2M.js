import{a as e,c as t,i as n,l as r,n as i,o as a,r as o,s,t as c}from"./index-DM7Uy7HF.js";var l=r(t()),u=r(a()),d=e((0,u.jsx)(`path`,{d:`M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z`}),`ArrowBack`);const f=({data:e,viewDetail:t})=>(0,u.jsxs)(`div`,{onClick:()=>t(e.username,e.classroom,e.message),className:`p-3 flex flex-col gap-3 rounded-xl shadow-lg bg-white border-2 border-[#FDE4D7]`,children:[(0,u.jsxs)(`div`,{className:`flex gap-3 justify-between items-start`,children:[(0,u.jsxs)(`div`,{className:`flex gap-2 items-start`,children:[(0,u.jsx)(`div`,{className:``}),(0,u.jsx)(`img`,{src:e.avatar,className:`size-[55px] object-cover object-center rounded-full`,alt:``}),(0,u.jsxs)(`div`,{className:`flex flex-col`,children:[(0,u.jsx)(`div`,{children:e.username}),(0,u.jsx)(`div`,{children:e.classroom})]})]}),(0,u.jsxs)(`div`,{children:[(0,u.jsx)(i,{className:`text-[#FBBF24]`,fontSize:`small`}),(0,u.jsx)(i,{className:`text-[#FBBF24]`,fontSize:`small`}),(0,u.jsx)(i,{className:`text-[#FBBF24]`,fontSize:`small`}),(0,u.jsx)(i,{className:`text-[#FBBF24]`,fontSize:`small`}),(0,u.jsx)(i,{className:`text-[#FBBF24]`,fontSize:`small`})]})]}),(0,u.jsxs)(`div`,{className:`text-left w-fit font-medium`,children:[`"`,e.message,`"`]}),(0,u.jsxs)(`div`,{className:`flex justify-between items-center text-gray-500`,children:[(0,u.jsx)(`div`,{children:c(e.createAt)}),(0,u.jsxs)(`div`,{children:[`Gửi đến: `,e.teacher]})]})]});var p=({viewDetail:e})=>{let[t,r]=(0,l.useState)([]),[i,a]=(0,l.useState)(3);(0,l.useEffect)(()=>{(async()=>{let{data:e,error:t}=await n.from(`messages`).select(`*`).order(`id`,{ascending:!1});!t&&e&&r(e||[])})()},[]);let c=e=>{let{scrollTop:n,scrollHeight:r,clientHeight:i}=e.currentTarget;n+i>=r-50&&a(e=>Math.min(e+3,t.length))},p=s();return(0,u.jsxs)(`div`,{onScroll:c,className:`h-screen w-screen overflow-x-hidden bg-[#FEF9F7] lg:hidden flex flex-col`,children:[(0,u.jsxs)(`div`,{className:`flex justify-between items-center p-3 shadow-md bg-white`,children:[(0,u.jsx)(`div`,{onClick:()=>p(`/`),children:(0,u.jsx)(d,{fontSize:`small`,className:`cursor-pointer`})}),(0,u.jsx)(`div`,{className:`flex-1 text-center font-semibold`,children:`Lời chúc 20/11`})]}),(0,u.jsxs)(`div`,{className:`mt-1 flex flex-col gap-4 p-4`,children:[(0,u.jsxs)(`div`,{className:`bg-[#FFDBCF] p-6 rounded-lg flex flex-col gap-2`,children:[(0,u.jsxs)(`div`,{className:`flex gap-3 items-center`,children:[(0,u.jsx)(`div`,{className:`w-[40px] h-[40px] flex justify-center items-center bg-white rounded-full`,children:(0,u.jsx)(o,{fontSize:`small`,className:`text-[#E89B8B]`})}),(0,u.jsxs)(`div`,{className:`flex flex-col gap-0`,children:[(0,u.jsx)(`div`,{className:`font-bold`,children:`Ngày nhà giáo Việt Nam`}),(0,u.jsx)(`div`,{className:`text-sm`,children:`20 tháng 11`})]})]}),(0,u.jsx)(`div`,{className:`text-sm`,children:`Gửi lời tri ân sâu sắc đến các thầy cô đã dành trọn tâm huyết để truyền đạt tri thức và định hướng tương lai cho học sinh.`})]}),(0,u.jsxs)(`div`,{className:`mt-3 bg-white shadow-md p-2 rounded-md border flex justify-between items-center`,children:[(0,u.jsx)(`div`,{children:`Tổng số lời chúc`}),(0,u.jsx)(`div`,{className:`text-[#E89B8B] font-bold text-xl`,children:t.length})]}),(0,u.jsx)(`div`,{className:`grid grid-cols-1 gap-3`,children:t.slice(0,i).map(t=>(0,u.jsx)(f,{viewDetail:e,data:t},t.id))})]})]})};export{p as default};